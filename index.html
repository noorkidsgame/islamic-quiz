<!DOCTYPE html>
<html lang="ur">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Noor Kids Islamic Learning</title>

<style>
body{
margin:0;
font-family:Segoe UI;
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
display:flex;
justify-content:center;
align-items:center;
height:100vh;
color:white;
}

.card{
background:#111;
width:95%;
max-width:700px;
padding:25px;
border-radius:20px;
box-shadow:0 10px 30px rgba(0,0,0,0.5);
overflow:auto;
max-height:90vh;
}

button{
width:100%;
padding:10px;
margin:5px 0;
border:none;
border-radius:8px;
background:#3498db;
color:white;
cursor:pointer;
font-size:14px;
}

.correct{background:#2ecc71 !important;}
.wrong{background:#e74c3c !important;}
.hidden{display:none;}

#progress{
height:6px;
background:#333;
border-radius:10px;
overflow:hidden;
margin-bottom:10px;
}
#progressBar{
height:100%;
width:0%;
background:#2ecc71;
transition:0.4s;
}
</style>
</head>

<body>

<div class="card">

<h2>ðŸŒ™ Noor Kids Islamic Learning</h2>

<div id="classScreen"></div>

<div id="quizScreen" class="hidden">
<div id="progress"><div id="progressBar"></div></div>
<h3 id="question"></h3>
<div id="options"></div>
</div>

<div id="resultScreen" class="hidden">
<h3 id="resultText"></h3>
<button onclick="goHome()">ÙˆØ§Ù¾Ø³ Ú©Ù„Ø§Ø³ Ù¾Ø± Ø¬Ø§Ø¦ÛŒÚº</button>
</div>

</div>

<!-- ALL CLASS FILES -->
<script src="classes/nursery.js"></script>
<script src="classes/lkg.js"></script>
<script src="classes/ukg.js"></script>
<script src="classes/class1.js"></script>
<script src="classes/class2.js"></script>
<script src="classes/class3.js"></script>
<script src="classes/class4.js"></script>
<script src="classes/class5.js"></script>
<script src="classes/class6.js"></script>
<script src="classes/class7.js"></script>
<script src="classes/class8.js"></script>
<script src="classes/class9.js"></script>
<script src="classes/class10.js"></script>
<script src="classes/class11.js"></script>
<script src="classes/class12.js"></script>
<script src="classes/graduate.js"></script>
<script src="classes/postgraduate.js"></script>

<script>

const classMap = {
"Nursery": nurseryQuestions,
"LKG": lkgQuestions,
"UKG": ukgQuestions,
"Class 1": class1Questions,
"Class 2": class2Questions,
"Class 3": class3Questions,
"Class 4": class4Questions,
"Class 5": class5Questions,
"Class 6": class6Questions,
"Class 7": class7Questions,
"Class 8": class8Questions,
"Class 9": class9Questions,
"Class 10": class10Questions,
"Class 11": class11Questions,
"Class 12": class12Questions,
"Graduate": graduateQuestions,
"Post Graduate": postgraduateQuestions
};

let currentClass="";
let questions=[];
let current=0;
let score=0;

function loadClasses(){
let div=document.getElementById("classScreen");
for(let key in classMap){
let btn=document.createElement("button");
btn.innerText=key;
btn.onclick=()=>startClass(key);
div.appendChild(btn);
}
}

function startClass(c){
currentClass=c;
questions=[...classMap[c]];
current=0;
score=0;

shuffle(questions);

document.getElementById("classScreen").classList.add("hidden");
document.getElementById("quizScreen").classList.remove("hidden");

loadQuestion();
}

function loadQuestion(){
let q=questions[current];
document.getElementById("question").innerText=q.q;
let optDiv=document.getElementById("options");
optDiv.innerHTML="";

q.o.forEach(opt=>{
let btn=document.createElement("button");
btn.innerText=opt;
btn.onclick=()=>checkAnswer(opt,btn);
optDiv.appendChild(btn);
});

updateProgress();
}

function checkAnswer(selected,btn){
let correct=questions[current].a;
let buttons=document.querySelectorAll("#options button");
buttons.forEach(b=>b.disabled=true);

if(selected===correct){
btn.classList.add("correct");
score++;
}else{
btn.classList.add("wrong");
}

setTimeout(()=>{
current++;
if(current<questions.length){
loadQuestion();
}else{
showResult();
}
},600);
}

function updateProgress(){
let percent=(current/questions.length)*100;
document.getElementById("progressBar").style.width=percent+"%";
}

function showResult(){
document.getElementById("quizScreen").classList.add("hidden");
document.getElementById("resultScreen").classList.remove("hidden");

let grade="C";
if(score>=13) grade="A+ ðŸŒŸ";
else if(score>=10) grade="A";
else if(score>=8) grade="B";

document.getElementById("resultText").innerText=
currentClass+" Ù…Ú©Ù…Ù„\nØ§Ø³Ú©ÙˆØ±: "+score+" / "+questions.length+"\nÚ¯Ø±ÛŒÚˆ: "+grade;
}

function goHome(){
document.getElementById("resultScreen").classList.add("hidden");
document.getElementById("classScreen").classList.remove("hidden");
}

function shuffle(array){
for(let i=array.length-1;i>0;i--){
let j=Math.floor(Math.random()*(i+1));
[array[i],array[j]]=[array[j],array[i]];
}
}

loadClasses();

</script>

</body>
</html>
