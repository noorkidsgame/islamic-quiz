<!DOCTYPE html>
<html lang="ur">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Noor Kids Level Pro</title>

<style>
body{
margin:0;
font-family:'Segoe UI',sans-serif;
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
display:flex;
justify-content:center;
align-items:center;
height:100vh;
color:white;
}

.card{
background:#111;
width:95%;
max-width:500px;
padding:25px;
border-radius:20px;
box-shadow:0 10px 30px rgba(0,0,0,0.5);
}

button{
width:100%;
padding:12px;
margin:6px 0;
border:none;
border-radius:10px;
font-size:15px;
cursor:pointer;
background:#3498db;
color:white;
}

.locked{
background:#555 !important;
cursor:not-allowed;
}

.correct{background:#2ecc71 !important;}
.wrong{background:#e74c3c !important;}

.hidden{display:none;}

#progress{
height:8px;
background:#333;
border-radius:10px;
overflow:hidden;
margin-bottom:10px;
}

#progressBar{
height:100%;
width:0%;
background:#2ecc71;
transition:0.4s;
}

.star{
color:gold;
font-size:18px;
}
</style>
</head>

<body>

<div class="card">

<h2>ğŸŒ™ Noor Kids Quiz</h2>

<div id="levelScreen"></div>

<div id="quizScreen" class="hidden">
<div id="progress"><div id="progressBar"></div></div>
<h3 id="question"></h3>
<div id="options"></div>
</div>

<div id="resultScreen" class="hidden">
<h3 id="resultText"></h3>
<div id="stars"></div>
<button onclick="goToLevels()">ÙˆØ§Ù¾Ø³ Ù„ÛŒÙˆÙ„</button>
</div>

</div>

<script>

const questionsPerLevel=15;

// ===== Ø³ÙˆØ§Ù„ ÚˆÛŒÙ¹Ø§ =====
const questionBank=[
{q:"Ø§Ø³Ù„Ø§Ù… Ú©Û’ Ú©ØªÙ†Û’ Ø§Ø±Ú©Ø§Ù† ÛÛŒÚºØŸ",o:["3","4","5","6"],a:"5"},
{q:"Ù†Ù…Ø§Ø² Ú©ØªÙ†ÛŒ ÙØ±Ø¶ ÛÛŒÚºØŸ",o:["3","4","5","6"],a:"5"},
{q:"Ù‚Ø±Ø¢Ù† Ú©ØªÙ†Û’ Ù¾Ø§Ø±ÙˆÚº Ù¾Ø± Ù…Ø´ØªÙ…Ù„ ÛÛ’ØŸ",o:["20","25","30","40"],a:"30"},
{q:"Ù…Ø¯ÛŒÙ†Û Ú©Ø§ Ù¾Ø±Ø§Ù†Ø§ Ù†Ø§Ù… Ú©ÛŒØ§ ØªÚ¾Ø§ØŸ",o:["ÛŒØ«Ø±Ø¨","Ú©ÙˆÙÛ","Ø¨ØµØ±Û","Ø·Ø§Ø¦Ù"],a:"ÛŒØ«Ø±Ø¨"},
{q:"Ø§Ø³Ù„Ø§Ù…ÛŒ Ø³Ø§Ù„ Ú©Û’ Ú©ØªÙ†Û’ Ù…ÛÛŒÙ†Û’ ÛÛŒÚºØŸ",o:["10","11","12","13"],a:"12"},
{q:"Ù¾ÛÙ„Ø§ Ø®Ù„ÛŒÙÛ Ú©ÙˆÙ† ØªÚ¾Ø§ØŸ",o:["Ø¹Ù…Ø±Ø“","Ø¹Ù„ÛŒØ“","Ø§Ø¨ÙˆØ¨Ú©Ø±Ø“","Ø¹Ø«Ù…Ø§Ù†Ø“"],a:"Ø§Ø¨ÙˆØ¨Ú©Ø±Ø“"},
{q:"Ù‚Ø±Ø¢Ù† Ú©ÛŒ Ù¾ÛÙ„ÛŒ Ø³ÙˆØ±ØªØŸ",o:["ÙØ§ØªØ­Û","Ø¨Ù‚Ø±Û","Ø§Ø®Ù„Ø§Øµ","Ù†Ø§Ø³"],a:"ÙØ§ØªØ­Û"},
{q:"Ø§Ø³Ù„Ø§Ù… Ú©Ø§ Ù¾ÛÙ„Ø§ Ø±Ú©Ù†ØŸ",o:["Ù†Ù…Ø§Ø²","Ø±ÙˆØ²Û","Ú©Ù„Ù…Û","Ø­Ø¬"],a:"Ú©Ù„Ù…Û"},
{q:"Ù†Ù…Ø§Ø² ÙØ¬Ø± ÙØ±Ø¶ Ø±Ú©Ø¹ØªØŸ",o:["2","3","4","5"],a:"2"},
{q:"Ø­Ø¬ Ú©Ø³ Ù…ÛÛŒÙ†Û’ Ù…ÛŒÚºØŸ",o:["Ø±Ù…Ø¶Ø§Ù†","Ø°ÙˆØ§Ù„Ø­Ø¬Û","Ù…Ø­Ø±Ù…","Ø±Ø¬Ø¨"],a:"Ø°ÙˆØ§Ù„Ø­Ø¬Û"},
{q:"Ø²Ú©ÙˆÙ°Ûƒ ÙÛŒØµØ¯ØŸ",o:["1%","2.5%","5%","10%"],a:"2.5%"},
{q:"Ù‚Ø±Ø¢Ù† Ù…ÛŒÚº Ú©ØªÙ†ÛŒ Ø³ÙˆØ±ØªÛŒÚºØŸ",o:["100","110","114","120"],a:"114"},
{q:"Ù…Ø¯ÛŒÙ†Û Ú©ÛŒ ÛØ¬Ø±Øª Ú©Ø¨ ÛÙˆØ¦ÛŒØŸ",o:["622","500","700","800"],a:"622"},
{q:"Ø´Ø¨ Ù‚Ø¯Ø± Ú©Ø³ Ù…ÛÛŒÙ†Û’ØŸ",o:["Ø±Ù…Ø¶Ø§Ù†","Ø±Ø¬Ø¨","Ù…Ø­Ø±Ù…","Ø´Ø¹Ø¨Ø§Ù†"],a:"Ø±Ù…Ø¶Ø§Ù†"},
{q:"Ø­Ø¶Ø±Øª Ø¹Ù…Ø±Ø“ Ù„Ù‚Ø¨ØŸ",o:["ÙØ§Ø±ÙˆÙ‚","ØµØ¯ÛŒÙ‚","ØºÙ†ÛŒ","Ù…Ø±ØªØ¶ÛŒÙ°"],a:"ÙØ§Ø±ÙˆÙ‚"},

// Ù…Ø²ÛŒØ¯ Ø³ÙˆØ§Ù„ Ø´Ø§Ù…Ù„ Ú©Ø±ØªÛ’ Ø¬Ø§Ø¦ÛŒÚº ğŸ‘‡
];

// ===== ÙˆÛŒØ±ÛŒ Ø§ÛŒØ¨Ù„ =====
let unlockedLevel=localStorage.getItem("unlockedLevel") || 1;
let starsData=JSON.parse(localStorage.getItem("starsData")||"{}");

let currentLevel=1;
let currentQuestion=0;
let score=0;
let levelQuestions=[];

// ===== Ù„ÛŒÙˆÙ„ Ø¨Ù†Ø§Ø¦ÛŒÚº =====
function generateLevels(){
let totalLevels=Math.floor(questionBank.length/questionsPerLevel);
let div=document.getElementById("levelScreen");
div.innerHTML="";

for(let i=1;i<=totalLevels;i++){
let btn=document.createElement("button");
btn.innerHTML="Ù„ÛŒÙˆÙ„ "+i+" "+(starsData[i]?renderStars(starsData[i]):"");

if(i>unlockedLevel){
btn.classList.add("locked");
}else{
btn.onclick=()=>startLevel(i);
}
div.appendChild(btn);
}
}

function renderStars(num){
let s="";
for(let i=0;i<num;i++){ s+="â­"; }
return "<span class='star'>"+s+"</span>";
}

// ===== Ù„ÛŒÙˆÙ„ Ø´Ø±ÙˆØ¹ =====
function startLevel(level){
currentLevel=level;
currentQuestion=0;
score=0;

let start=(level-1)*questionsPerLevel;
let end=start+questionsPerLevel;
levelQuestions=questionBank.slice(start,end);

document.getElementById("levelScreen").classList.add("hidden");
document.getElementById("quizScreen").classList.remove("hidden");

loadQuestion();
}

function loadQuestion(){
let q=levelQuestions[currentQuestion];
document.getElementById("question").innerText=q.q;
let optDiv=document.getElementById("options");
optDiv.innerHTML="";

q.o.forEach(opt=>{
let btn=document.createElement("button");
btn.innerText=opt;
btn.onclick=()=>checkAnswer(opt,btn);
optDiv.appendChild(btn);
});

updateProgress();
}

function checkAnswer(selected,btn){
let correct=levelQuestions[currentQuestion].a;
let buttons=document.querySelectorAll("#options button");
buttons.forEach(b=>b.disabled=true);

if(selected===correct){
btn.classList.add("correct");
score++;
}else{
btn.classList.add("wrong");
}

setTimeout(()=>{
currentQuestion++;
if(currentQuestion<questionsPerLevel){
loadQuestion();
}else{
showResult();
}
},600);
}

function updateProgress(){
let percent=(currentQuestion/questionsPerLevel)*100;
document.getElementById("progressBar").style.width=percent+"%";
}

function showResult(){
document.getElementById("quizScreen").classList.add("hidden");
document.getElementById("resultScreen").classList.remove("hidden");

let starCount=0;
if(score>=13) starCount=3;
else if(score>=10) starCount=2;
else if(score>=8) starCount=1;

if(starCount>0){
starsData[currentLevel]=starCount;
localStorage.setItem("starsData",JSON.stringify(starsData));
}

if(score>=8 && currentLevel>=unlockedLevel){
unlockedLevel++;
localStorage.setItem("unlockedLevel",unlockedLevel);
}

document.getElementById("resultText").innerText=
"Ù„ÛŒÙˆÙ„ "+currentLevel+" Ù…Ú©Ù…Ù„\nØ§Ø³Ú©ÙˆØ±: "+score+" / "+questionsPerLevel;

document.getElementById("stars").innerHTML=renderStars(starCount);
generateLevels();
}

function goToLevels(){
document.getElementById("resultScreen").classList.add("hidden");
document.getElementById("levelScreen").classList.remove("hidden");
}

generateLevels();

</script>

</body>
</html>
